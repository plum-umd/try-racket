<html>
  <head>
    <title>Try SCV</title>
    <link href="/css/tryrkt.css" rel="stylesheet" type="text/css">
    <link href="/css/gh-fork-ribbon.css" rel="stylesheet" type="text/css">
  </head>
  <body onload="loadSamples()">
    <div id="wrapper">
      <div id="content">
	<select id="samples" onChange="loadSample(this.options[this.selectedIndex].text)">
	  </select>
	<div id="container">
	  <textarea class="console" id="console" cols="100" rows="24" autofocus="autofocus">
(module f racket
  (provide/contract [f (integer? . -> . integer?)])
  (define (f n)
    (/ 1 (- 100 n))))</textarea>

	  <div id="changer">
	    <button id="btn_submit" autofocus="autofocus" type="button" onclick="check()">Verify</button>
	    <button id="btn_run" type="button" onclick="run()">Run</button>
	    <p class="bottom">Enter a program on the left to verify.</p>
	    <div id="changer_result" class="jquery-console-message"></div>
	  </div>
	</div>
	<div class="footer"><p class="bottom"></p></div>
      </div>
    </div>

    <div id="about">
      <p>
      This is a demonstration of our
      <a href="http://dl.acm.org/citation.cfm?id=2628156">work</a>
      <a href="http://arxiv.org/abs/1411.3967">in progress</a> on contract verification
      that generates counterexamples for higher-order functional programs
      using symbolic execution.
      </p>
      <p>This tool verifies a module's correctness up to contracts,
	which include explicit declarations as well as implicit ones
	for primitive operations.
	Verified modules are guaranteed to be safe under all contexts.
	In addition, for each error that the module can actually cause,
	the tool generates a concrete input that really triggers it.
      </p>
      <p> We currently support a small functional subset of Racket:</p>

      <div id="doc">
	<pre>
program          ::= module-form
sub-module-form  ::= (module module-name racket
                       (provide provide-spec …)
                       (require require-spec …)
                       (define name value) …)
provide-spec     ::= (name contract)
require-spec     ::= (submod ".." module-name)
value            ::= number | boolean | string | symbol
                   | op | (lambda (id) expr)
expr             ::= id | (if expr expr expr) | (expr expr …)
contract         ::= expr | (or/c contract …) | (and/c contract …)
                   | (->i ([id contract] …₁) (res (id …₁) contract))
op               ::= + | - | * | / | string-length
                   | number? | real? | integer? | boolean? | false?
                   | cons? | empty?
	</pre>
      </div>

    </div>

    <script src="/js/jquery-1.4.2.min.js" type="text/javascript"></script>
    <script src="/js/jquery.console.js" type="text/javascript"></script>
    <script src="/js/tryrkt.js" type="text/javascript"></script>
    <script type="text/javascript">
      evalUrl = "@url";
    </script> 
  </body>
</html>
